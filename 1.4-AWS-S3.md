# 1.4 AWS S3

## 1.4.1 AWS S3 Security

- S3 is private by default. Any other permissions explicitly granted.
- S3 buckets use **resource** policies.
  - Like identity policies, but attached to a bucket
  - resource perspective permissions: who can access bucket, etc.
- Identity policies can only be attached to identities in own account;
  - Have no way using Identity policy to control access to another account
  - Attaching policy to resource allows controlling access to same and different
    accounts.
- Resource Policies allow/deny anonymous principals (anon access).

- S3 resource policies have express `"Principal"` inside of statement.

### When to use Identity vs Resource Policy
- Identity
  - Controlling many different resources
  - You have a preference for mananging permission in IAM
  - Using same account
- Resource/Bucket
  - Just controlling S3
  - Anonymous or Cross-Account
- ACLs: Never use unless absolutely need to

### Block Public Access

- Used as a big hammer for blocking public access. Bypasses any resource
  policies and locks down public access.

### Access Control Lists (ACLs)

- Legacy, AWS dont recommend; inflexible and simple permissions.

